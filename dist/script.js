"use strict";(()=>{function g(){let r=document.querySelector("body"),o=document.createElement("h1");o.style.fontFamily="Pixelify Sans, Rubik Broken Fax",o.textContent="BattleShip",o.classList.add("text-5xl","font-extrabold","text-center","mb-10","mt-10"),r?.appendChild(o);let a=document.createElement("div");a.setAttribute("id","gameLayout"),a.classList.add("flex","w-full","h-full","gap-10","p-10"),r?.appendChild(a);let e=document.createElement("div");e.setAttribute("id","playerBoard"),e.classList.add("grid","column-gap-0","border-2","border-black","mx-auto","my-auto"),f(e),a.appendChild(e);let l=document.createElement("div");l.setAttribute("id","computerBoard"),l.classList.add("grid","column-gap-0","border-2","border-black","mx-auto","my-auto"),f(l),a.appendChild(l)}function f(r){for(let o=0;o<10;o++){for(let a=0;a<10;a++){let e=document.createElement("div");e.classList.add("w-10","h-10","border-2","border-black"),e.setAttribute("row",`${o}`),e.setAttribute("col",`${a}`),e.setAttribute("id","square"),e.innerHTML="",r.appendChild(e)}r.style.gridTemplateColumns="repeat(10, [col-start] 1fr [col-end])"}}function y(){let r=document.querySelector("body"),o=document.createElement("modal");o.setAttribute("id","modal");let a=document.createElement("div");a.classList.add("fixed","left-0","top-0","flex","h-full","w-full","items-center","justify-center","bg-black","bg-opacity-50","py-10"),o.appendChild(a);let e=document.createElement("div");e.classList.add("max-h-full","w-full","max-w-xl","overflow-y-auto","sm:rounded-2xl","bg-white"),a.appendChild(e);let l=document.createElement("div");l.classList.add("w-full"),e.appendChild(l);let d=document.createElement("div");d.classList.add("m-8","my-20","max-w-[400px]","mx-auto"),l.appendChild(d);let s=document.createElement("div");s.classList.add("mb-8","text-center"),d.appendChild(s);let t=document.createElement("h1");t.classList.add("mb-4","text-3xl","font-extrabold"),t.textContent="BattleShip Game",s.appendChild(t);let n=document.createElement("p");n.classList.add("text-gray-600"),n.textContent="Embark on an epic naval adventure, a thrilling Battleship game that pits you against an intelligent opponent in a strategic battle for naval supremacy.",s.appendChild(n);let i=document.createElement("div");i.classList.add("space-y-4"),d.appendChild(i);let c=document.createElement("button");c.classList.add("p-3","bg-black","rounded-full","text-white","w-full","font-semibold"),c.textContent="Start Game",c.setAttribute("id","startButton"),c.addEventListener("click",()=>{o.remove()}),i.appendChild(c),r?.appendChild(o)}var h=()=>{let r=Array.from({length:10},()=>Array(10).fill("")),o=[],a=[],e=(t,n,i,c)=>{if(d(t,n,i,c)){let u=[];for(let m=0;m<t.length;m++){let p=c?n+m:n,b=c?i:i+m;r[p][b]="#",u.push({row:p,col:b})}t.coordinates=u,o.push(t)}else console.log("Invalid ship placement")},l=(t,n)=>{if(r[t][n]==="#"){let c=o.find(u=>u.coordinates.some(m=>m.row===t&&m.col===n));c&&c.hit()}else a.push({row:t,col:n}),console.log("Missed the target!")},d=(t,n,i,c)=>{let u=c?n+t.length-1:n,m=c?i:i+t.length-1;if(u>=10||m>=10)return!1;for(let p=n;p<=u;p++)for(let b=i;b<=m;b++)if(r[p][b]==="#")return!1;return!0};return{placeShip:e,receiveAttack:l,areAllShipsSunk:()=>o.every(t=>t.isSunk===!0),grid:r,ships:o,missedAttacks:a}};var C=()=>{let r=0;return new Promise(o=>{let a=document.getElementById("playerBoard"),e=[],l,d,s=!1,t=0,n=i=>{r===0?(l=i.target,l.classList.add("bg-green-500")):r===1&&(d=i.target,d.classList.add("bg-red-500"),l.getAttribute("row")===d.getAttribute("row")?(t=Math.abs(Number(l.getAttribute("col"))-Number(d.getAttribute("col"))),s=!0,e.push(t+1,s)):l.getAttribute("col")===d.getAttribute("col")&&(t=Math.abs(Number(l.getAttribute("row"))-Number(d.getAttribute("row"))),s=!1,e.push(t+1,s))),r++,e.length===r&&(a?.removeEventListener("click",n),o(e))};a?.addEventListener("click",n)})};document.addEventListener("DOMContentLoaded",async()=>{y(),g();let r=h(),o=h(),a=await C();console.log(a[0])});})();
