"use strict";(()=>{function g(){let n=document.querySelector("body"),t=document.createElement("h1");t.style.fontFamily="Pixelify Sans, Rubik Broken Fax",t.textContent="BattleShip",t.classList.add("text-5xl","font-extrabold","text-center","mb-10","mt-10"),n?.appendChild(t);let e=document.createElement("div");e.setAttribute("id","gameLayout"),e.classList.add("flex","w-full","h-full","gap-10","p-10"),n?.appendChild(e);let o=document.createElement("div");o.setAttribute("id","playerBoard"),o.classList.add("grid","column-gap-0","border-2","border-black","mx-auto","my-auto"),f(o),e.appendChild(o);let d=document.createElement("div");d.setAttribute("id","computerBoard"),d.classList.add("grid","column-gap-0","border-2","border-black","mx-auto","my-auto"),f(d),e.appendChild(d)}function f(n){for(let t=0;t<10;t++){for(let e=0;e<10;e++){let o=document.createElement("div");o.classList.add("w-10","h-10","border-2","border-black"),o.setAttribute("row",`${t}`),o.setAttribute("col",`${e}`),o.setAttribute("id",`${t}${e}`),o.innerHTML="",n.appendChild(o)}n.style.gridTemplateColumns="repeat(10, [col-start] 1fr [col-end])"}}function y(){let n=document.querySelector("body"),t=document.createElement("modal");t.setAttribute("id","modal");let e=document.createElement("div");e.classList.add("fixed","left-0","top-0","flex","h-full","w-full","items-center","justify-center","bg-black","bg-opacity-50","py-10"),t.appendChild(e);let o=document.createElement("div");o.classList.add("max-h-full","w-full","max-w-xl","overflow-y-auto","sm:rounded-2xl","bg-white"),e.appendChild(o);let d=document.createElement("div");d.classList.add("w-full"),o.appendChild(d);let c=document.createElement("div");c.classList.add("m-8","my-20","max-w-[400px]","mx-auto"),d.appendChild(c);let s=document.createElement("div");s.classList.add("mb-8","text-center"),c.appendChild(s);let a=document.createElement("h1");a.classList.add("mb-4","text-3xl","font-extrabold"),a.textContent="BattleShip Game",s.appendChild(a);let l=document.createElement("p");l.classList.add("text-gray-600"),l.textContent="Embark on an epic naval adventure, a thrilling Battleship game that pits you against an intelligent opponent in a strategic battle for naval supremacy.",s.appendChild(l);let i=document.createElement("div");i.classList.add("space-y-4"),c.appendChild(i);let r=document.createElement("button");r.classList.add("p-3","bg-black","rounded-full","text-white","w-full","font-semibold"),r.textContent="Start Game",r.addEventListener("click",C),i.appendChild(r),n?.appendChild(t)}function C(){let n=document.querySelector("body"),t=document.getElementById("modal");n?.removeChild(t)}var h=()=>{let n=Array.from({length:10},()=>Array(10).fill("")),t=[],e=[],o=(a,l,i,r)=>{if(c(a,l,i,r)){let u=[];for(let m=0;m<a.length;m++){let p=r?l+m:l,b=r?i:i+m;n[p][b]="#",u.push({row:p,col:b})}a.coordinates=u,t.push(a)}else console.log("Invalid ship placement")},d=(a,l)=>{if(n[a][l]==="#"){let r=t.find(u=>u.coordinates.some(m=>m.row===a&&m.col===l));r&&r.hit()}else e.push({row:a,col:l}),console.log("Missed the target!")},c=(a,l,i,r)=>{let u=r?l+a.length-1:l,m=r?i:i+a.length-1;if(u>=10||m>=10)return!1;for(let p=l;p<=u;p++)for(let b=i;b<=m;b++)if(n[p][b]==="#")return!1;return!0};return{placeShip:o,receiveAttack:d,areAllShipsSunk:()=>t.every(a=>a.isSunk===!0),grid:n,ships:t,missedAttacks:e}};document.addEventListener("DOMContentLoaded",()=>{y(),g();let n=h(),t=h(),e=v();console.log(e[0]),console.log(e[1])});var v=()=>{let n=document.getElementById("playerBoard"),t=[],e,o;return n?.addEventListener("click",d=>{if(e=d.target,e.classList.add("bg-green-500"),o=d.target,o.classList.add("bg-red-500"),n?.removeEventListener("click",c=>{}),e.getAttribute("row")===o.getAttribute("row")){let c=e.getAttribute("col"),s=o.getAttribute("col"),a=Math.abs(Number(c)-Number(s))+1;t.push(a,!1)}else if(e.getAttribute("col")===o.getAttribute("col")){let c=e.getAttribute("row"),s=o.getAttribute("row"),a=Math.abs(Number(c)-Number(s))+1;t.push(a,!0)}}),t};})();
